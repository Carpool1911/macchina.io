#
# Makefile
#
# Makefile for macchina.io Web UI
#

.PHONY: clean all js

ifndef MACCHINA_HAVE_COMPONENTS
sinclude ../components.make
endif

clean all:
ifdef MACCHINA_ENABLE_WEBUI
ifdef MACCHINA_ENABLE_OSP_WEB
	$(MAKE) -C Common $(MAKECMDGOALS)
	$(MAKE) -C jQuery $(MAKECMDGOALS)
	$(MAKE) -C AngularJS $(MAKECMDGOALS)
	$(MAKE) -C AngularFileUpload $(MAKECMDGOALS)
	$(MAKE) -C AngularUITree $(MAKECMDGOALS)
	$(MAKE) -C ChartJS $(MAKECMDGOALS)
	$(MAKE) -C MomentJS $(MAKECMDGOALS)
	$(MAKE) -C TinyColor $(MAKECMDGOALS)
	$(MAKE) -C Launcher $(MAKECMDGOALS)
ifdef MACCHINA_ENABLE_WEBUI_CONSOLE
	$(MAKE) -C Console $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_CONSOLE
ifdef MACCHINA_ENABLE_WEBUI_SETTINGS
	$(MAKE) -C Settings $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_SETTINGS
ifdef MACCHINA_ENABLE_WEBUI_BUNDLEADMIN
	$(MAKE) -C BundleAdmin $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_BUNDLEADMIN
ifdef MACCHINA_ENABLE_JS
ifdef MACCHINA_ENABLE_WEBUI_PLAYGROUND
	$(MAKE) -C Ace $(MAKECMDGOALS)
	$(MAKE) -C Playground $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_PLAYGROUND
ifdef MACCHINA_ENABLE_WEBUI_SERVICES
	$(MAKE) -C Services $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_SERVICES
ifdef MACCHINA_ENABLE_WEBUI_SYSTEMINFORMATION
	$(MAKE) -C SystemInformation $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_SYSTEMINFORMATION
ifdef MACCHINA_ENABLE_DEVICES
ifdef MACCHINA_ENABLE_WEBUI_DEVICES
	$(MAKE) -C Devices $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_DEVICES
ifdef MACCHINA_ENABLE_WEBUI_DEVICETREE
	$(MAKE) -C DeviceTree $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_DEVICETREE
ifdef MACCHINA_ENABLE_WEBUI_GPIO
	$(MAKE) -C GPIO $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_GPIO
ifdef MACCHINA_ENABLE_GNSS
ifdef MACCHINA_ENABLE_WEBUI_GNSS
	$(MAKE) -C OpenLayers $(MAKECMDGOALS)
	$(MAKE) -C GNSSTracking $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_GNSS
endif # MACCHINA_ENABLE_GNSS
endif # MACCHINA_ENABLE_DEVICES
ifdef MACCHINA_ENABLE_PROTOCOLS
ifdef MACCHINA_ENABLE_S7PLC
ifdef MACCHINA_ENABLE_WEBUI_S7PLC
	$(MAKE) -C S7PLC $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_S7PLC
endif # MACCHINA_ENABLE_S7PLC
ifdef MACCHINA_ENABLE_MQTT
ifdef MACCHINA_ENABLE_WEBUI_MQTT
	$(MAKE) -C MQTT $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_MQTT
endif # MACCHINA_ENABLE_WEBUI_MQTT
ifdef MACCHINA_ENABLE_BTLE
ifdef MACCHINA_ENABLE_WEBUI_PERIPHERALBROWSER
	$(MAKE) -C PeripheralBrowser $(MAKECMDGOALS)
endif # MACCHINA_ENABLE_WEBUI_PERIPHERALBROWSER
endif # MACCHINA_ENABLE_BTLE
endif # MACCHINA_ENABLE_PROTOCOLS
endif # MACCHINA_ENABLE_JS
endif # MACCHINA_ENABLE_OSP_WEB
endif # MACCHINA_ENABLE_WEBUI
