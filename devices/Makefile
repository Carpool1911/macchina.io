#
# Makefile
#
# Makefile for macchina.io Devices
#

.PHONY: clean all

ifndef MACCHINA_HAVE_COMPONENTS
sinclude ../components.make
endif

clean all:
ifdef MACCHINA_ENABLE_DEVICES
	$(MAKE) -C Devices $(MAKECMDGOALS)
ifdef MACCHINA_ENABLE_DATAPOINTS
	$(MAKE) -C Datapoints $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_SERIAL
	$(MAKE) -C Serial $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_TF
	$(MAKE) -C Tf $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_SIMULATION
	$(MAKE) -C Simulation $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_LINUXDEVICES
	$(MAKE) -C Linux $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_XBEE
ifdef MACCHINA_ENABLE_XBEESENSOR
	$(MAKE) -C XBeeSensor $(MAKECMDGOALS)
endif
endif
ifdef MACCHINA_ENABLE_XDK
ifdef MACCHINA_ENABLE_BTLE
	$(MAKE) -C XDK $(MAKECMDGOALS)
endif
endif
ifdef MACCHINA_ENABLE_CISS
	$(MAKE) -C CISS $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_SENSORTAG
ifdef MACCHINA_ENABLE_BTLE
	$(MAKE) -C SensorTag $(MAKECMDGOALS)
endif
endif
ifdef MACCHINA_ENABLE_GNSS
	$(MAKE) -C GNSS/NMEA $(MAKECMDGOALS)
	$(MAKE) -C GNSS $(MAKECMDGOALS)
endif
ifdef MACCHINA_ENABLE_CAN
#	$(MAKE) -C CAN $(MAKECMDGOALS)
endif
endif
